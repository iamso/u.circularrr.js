/*!
 * u.circularrr.js - Version 0.1.0
 * plugin for circular progress
 * Author: Steve Ottoz <so@dev.so>
 * Build date: 2016-08-06
 * Copyright (c) 2016 Steve Ottoz
 * Released under the MIT license
 */
!function(a){"use strict";/^f/.test(typeof define)&&define.amd?define(["ujs"],a):a(/^o/.test(typeof exports)?require("ujs"):ujs)}(function(a){"use strict";function b(b,e){this.el=b,this.$el=a(b),this.options=a.extend({},d,/^o/.test(typeof e)?e:{}),this._defaults=d,this._name=c,this.ns="http://www.w3.org/2000/svg",this.$svg=this.$el.find("."+c),this.$bg=this.$el.find("."+c+"-bg"),this.$progress=this.$el.find("."+c+"-progress"),this.$svg.length||(this.$svg=a(document.createElementNS(this.ns,"svg")),this.$el.append(this.$svg)),this.$bg.length||(this.$bg=a(document.createElementNS(this.ns,"circle")),this.$svg.append(this.$bg)),this.$progress.length||(this.$progress=a(document.createElementNS(this.ns,"circle")),this.$svg.append(this.$progress)),this.$svg.addClass(c).attr("viewBox","0 0 "+this.options.size+" "+this.options.size).css({transform:"rotate(-90deg)"}),this.$bg.addClass(c+"-bg").attr("cx",this.options.size/2).attr("cy",this.options.size/2).attr("r",Math.floor((this.options.size-this.options.border)/2)).css({fill:"transparent",opacity:1,stroke:this.options.bg,strokeWidth:this.options.border}),this.$progress.addClass(c+"-progress").attr("cx",this.options.size/2).attr("cy",this.options.size/2).attr("r",Math.floor((this.options.size-this.options.border)/2)).css({fill:"transparent",opacity:0,stroke:this.options.progress,strokeWidth:this.options.border,transition:"stroke-dashoffset "+this.options.transition}),this.init()}var c="circularrr",d={size:40,border:3,bg:"ghostwhite",progress:"lightgreen",transition:"0.8s cubic-bezier(0.19, 1, 0.22, 1)"};b.prototype={init:function(){var a=this;this.radius=this.$progress.attr("r"),this.totalLength=Math.PI*(2*this.radius),this.$progress.css({transition:"none",strokeDasharray:this.totalLength,strokeDashoffset:this.totalLength}),setTimeout(function(){a.$progress.css({transition:null})},1)},set:function(a){var b=(100-a)/100*this.totalLength;a>100&&(b=0),0>a&&(b=this.totalLength),this.$progress.css({opacity:1,strokeDashoffset:b}),this.$el.addClass("loading"),100===a&&this.$el.removeClass("loading").addClass("loaded")},reset:function(){this.init(),this.$el.removeClass("loading loaded")}},a.fn[c]=function(d){return this.each(function(){var e=a(this),f=e.data(c);f||(f=new b(this,d),e.data(c,f)),+d===d?f.set(d):"reset"===d&&f.reset()})}});
//# sourceMappingURL=u.circularrr.min.js.map