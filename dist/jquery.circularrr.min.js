/*!
 * u.circularrr.js - Version 0.3.0
 * plugin for circular progress
 * Author: Steve Ottoz <so@dev.so>
 * Build date: 2017-02-15
 * Copyright (c) 2017 Steve Ottoz
 * Released under the MIT license
 */
!function(a){"use strict";/^f/.test(typeof define)&&define.amd?define(["jquery"],a):a(/^o/.test(typeof exports)?require("jquery"):jQuery)}(function(a){"use strict";function b(b,c){this.el=b,this.$el=a(b),this.options=a.extend({},e,/^o/.test(typeof c)?c:{}),this._defaults=e,this._name=d,this.ns="http://www.w3.org/2000/svg",this.$svg=this.$el.find("."+d),this.$bg=this.$el.find("."+d+"-bg"),this.$progress=this.$el.find("."+d+"-progress"),this.$svg.length||(this.$svg=a(document.createElementNS(this.ns,"svg")),this.$el.append(this.$svg)),this.$bg.length||(this.$bg=a(document.createElementNS(this.ns,"circle")),this.$svg.append(this.$bg)),this.$progress.length||(this.$progress=a(document.createElementNS(this.ns,"circle")),this.$svg.append(this.$progress)),this.$svg.attr("class",d).attr("viewBox","0 0 "+this.options.size+" "+this.options.size).css({transform:"rotate(-90deg)"}),this.$bg.attr("class",d+"-bg").attr("cx",this.options.size/2).attr("cy",this.options.size/2).attr("r",Math.floor((this.options.size-this.options.border)/2)).css({fill:"transparent",opacity:1,stroke:this.options.bg,strokeWidth:this.options.border}),this.$progress.attr("class",d+"-progress").attr("cx",this.options.size/2).attr("cy",this.options.size/2).attr("r",Math.floor((this.options.size-this.options.border)/2)).css({fill:"transparent",opacity:0,stroke:this.options.progress,strokeWidth:this.options.border}),this.init()}function c(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)}var d="circularrr",e={size:40,border:3,bg:"ghostwhite",progress:"lightgreen",duration:1500};b.prototype={init:function(){this.radius=this.$progress.attr("r"),this.totalLength=Math.PI*(2*this.radius),this.current=0,this.from=0,this.to=0,this.start=0,this.frame=0,this.$progress.css({strokeDasharray:this.totalLength,strokeDashoffset:this.totalLength})},set:function(a){this.from=Math.max(this.current,0),this.to=Math.min(+a,100),this.duration=(this.to-this.from)*(this.options.duration/100),this.start=new Date,this.$el.addClass("loading"),cancelAnimationFrame(this.frame),this._animate()},_animate:function(){var a=new Date;if(this.current>=this.to)return!1;var b=(a-this.start)/this.duration,d=c(b);this.current=Math.round(this.from+(this.to-this.from)*d),this._set(this.current),this.frame=requestAnimationFrame(this._animate.bind(this))},_set:function(a){var b=(100-a)/100*this.totalLength;this.$progress.css({opacity:1,strokeDashoffset:b}),a>=100&&this.$el.trigger(d+"-complete").removeClass("loading").addClass("loaded")},reset:function(){this.init(),this.$el.removeClass("loading loaded")}},a.fn[d]=function(c){return this.each(function(){var e=a(this),f=e.data(d);f||(f=new b(this,c),e.data(d,f)),+c===c?f.set(c):"reset"===c&&f.reset()})}});
//# sourceMappingURL=jquery.circularrr.min.js.map